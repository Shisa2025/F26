<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Kaiju Crisis Console - KAIJU ANALYTICS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #050505;
      --bg-2: #0f0f1a;
      --card: #0d0d16;
      --glow: #ff3b30;
      --glow-2: #ff6f3c;
      --text: #f8fafc;
      --muted: #c7cad1;
      --border: #1c1c2a;
      --ok: #22c55e;
      --warn: #facc15;
      --crit: #ef4444;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "DIN Alternate", "Segoe UI", Tahoma, Geneva, sans-serif;
      background: radial-gradient(circle at 20% 20%, rgba(255,59,48,0.12), transparent 30%),
                  radial-gradient(circle at 80% 0%, rgba(255,111,60,0.12), transparent 30%),
                  linear-gradient(145deg, #050505 0%, #0b0b15 50%, #050505 100%);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
    }

    header {
      position: relative;
      padding: 18px 22px 12px;
      border-bottom: 1px solid var(--border);
      background: linear-gradient(90deg, rgba(255,59,48,0.12), transparent 40%),
                  linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0));
      box-shadow: 0 10px 30px rgba(0,0,0,0.6);
      overflow: hidden;
    }

    header::after {
      content: "";
      position: absolute;
      inset: 0;
      background: repeating-linear-gradient(135deg, rgba(255,59,48,0.12) 0, rgba(255,59,48,0.12) 10px, transparent 10px, transparent 20px);
      opacity: 0.3;
      pointer-events: none;
    }

    .masthead {
      display: flex;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
      position: relative;
      z-index: 1;
      align-items: flex-end;
    }

    .logo-block {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .title {
      font-size: 1.3rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--text);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .title::before {
      content: "ALERT";
      background: var(--glow);
      color: #0b0b15;
      padding: 4px 10px;
      border-radius: 999px;
      font-weight: 800;
      letter-spacing: 0.08em;
      box-shadow: 0 0 20px rgba(255,59,48,0.8);
    }

    .subtitle {
      color: var(--muted);
      font-size: 0.9rem;
    }

    .status {
      display: flex;
      align-items: center;
      gap: 10px;
      background: rgba(255,59,48,0.12);
      padding: 8px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,59,48,0.4);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 0.85rem;
      box-shadow: 0 0 25px rgba(255,59,48,0.35);
    }

    .pulse-dot {
      width: 10px;
      height: 10px;
      background: var(--glow);
      border-radius: 999px;
      box-shadow: 0 0 16px rgba(255,59,48,0.9);
      animation: pulse 1.2s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.4); opacity: 0.4; }
      100% { transform: scale(1); opacity: 1; }
    }

    .ticker {
      position: relative;
      margin-top: 12px;
      background: linear-gradient(90deg, rgba(255,111,60,0.4), rgba(255,59,48,0.2));
      border: 1px solid rgba(255,59,48,0.5);
      border-radius: 10px;
      padding: 8px 12px;
      overflow: hidden;
      font-size: 0.85rem;
      letter-spacing: 0.04em;
    }

    .ticker span {
      display: inline-block;
      animation: marquee 14s linear infinite;
      white-space: nowrap;
    }

    @keyframes marquee {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    main {
      flex: 1;
      display: grid;
      grid-template-columns: 260px 1.6fr 1.1fr;
      gap: 16px;
      padding: 16px;
    }

    @media (max-width: 1100px) {
      main { grid-template-columns: 1fr; }
    }

    .card {
      background: linear-gradient(145deg, rgba(255,255,255,0.02), rgba(255,255,255,0));
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 12px 14px;
      box-shadow: 0 20px 30px rgba(0,0,0,0.45);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 20% 0%, rgba(255,59,48,0.08), transparent 35%);
      pointer-events: none;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 10px;
      gap: 8px;
    }

    .card-title {
      font-size: 0.95rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--muted);
    }

    .card-badge {
      font-size: 0.7rem;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(255,59,48,0.15);
      color: #ffd6d2;
      border: 1px solid rgba(255,59,48,0.4);
    }

    .stat-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 10px;
      margin-bottom: 10px;
    }

    .stat {
      background: rgba(12,12,20,0.9);
      border: 1px solid rgba(255,255,255,0.05);
      border-radius: 10px;
      padding: 10px 12px;
      box-shadow: inset 0 0 0 1px rgba(255,59,48,0.08);
    }

    .stat-label { color: var(--muted); font-size: 0.72rem; letter-spacing: 0.08em; text-transform: uppercase; }
    .stat-value { font-size: 1.3rem; font-weight: 700; }
    .stat-sub { color: var(--muted); font-size: 0.8rem; }

    .kaiju-list { display: flex; flex-direction: column; gap: 6px; max-height: calc(100vh - 140px); overflow-y: auto; }

    .kaiju-item {
      padding: 10px 11px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.06);
      background: rgba(19, 20, 28, 0.9);
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      transition: background 0.12s, border-color 0.12s, transform 0.1s;
    }

    .kaiju-item:hover { background: rgba(255,59,48,0.14); border-color: rgba(255,59,48,0.3); transform: translateY(-1px); }
    .kaiju-item.active { background: rgba(255,59,48,0.18); border-color: rgba(255,59,48,0.6); box-shadow: 0 0 20px rgba(255,59,48,0.35); }

    .kaiju-name { font-size: 1rem; font-weight: 700; letter-spacing: 0.04em; }
    .kaiju-meta { font-size: 0.72rem; color: var(--muted); }

    .chip { font-size: 0.7rem; border-radius: 999px; padding: 3px 9px; border: 1px solid var(--border); }
    .chip.danger { border-color: var(--crit); color: var(--crit); }
    .chip.warning { border-color: var(--warn); color: var(--warn); }
    .chip.ok { border-color: var(--ok); color: var(--ok); }

    .middle { display: flex; flex-direction: column; gap: 16px; }

    .kaiju-detail-grid { display: grid; grid-template-columns: 2fr 1.4fr; gap: 16px; }
    @media (max-width: 900px) { .kaiju-detail-grid { grid-template-columns: 1fr; } }

    .detail-name { font-size: 1.45rem; font-weight: 800; margin-bottom: 4px; letter-spacing: 0.03em; }
    .detail-latin { font-size: 0.85rem; color: var(--muted); margin-bottom: 12px; }

    .detail-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 8px; font-size: 0.85rem; }
    .detail-label { color: var(--muted); text-transform: uppercase; letter-spacing: 0.08em; font-size: 0.72rem; }

    .tag-row { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 6px; }
    .tag { font-size: 0.72rem; padding: 3px 9px; border-radius: 999px; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.1); }

    .map-placeholder {
      border-radius: 12px;
      border: 1px dashed rgba(255,59,48,0.5);
      background: radial-gradient(circle at top, rgba(255,59,48,0.15), transparent 55%),
                  radial-gradient(circle at bottom, rgba(255,255,255,0.05), transparent 55%),
                  #0a0a12;
      height: 220px;
      position: relative;
      overflow: hidden;
      padding: 10px;
      font-size: 0.8rem;
      color: var(--muted);
    }

    .map-label { position: absolute; top: 8px; left: 10px; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; }
    .map-city { position: absolute; padding: 2px 6px; border-radius: 999px; background: rgba(15,23,42,0.9); border: 1px solid rgba(255,255,255,0.25); font-size: 0.72rem; }
    .map-city.highlight { border-color: var(--glow); box-shadow: 0 0 12px rgba(255,59,48,0.7); }

    .map-kaiju {
      width: 24px; height: 24px; border-radius: 999px;
      background: radial-gradient(circle at 30% 20%, #ffb13b, #b91c1c);
      box-shadow: 0 0 22px rgba(255,59,48,0.9);
      position: absolute; display: flex; align-items: center; justify-content: center;
      font-size: 0.78rem; font-weight: 800;
      animation: blip 1.2s infinite;
    }

    @keyframes blip { 0% { transform: scale(1); } 50% { transform: scale(1.15); } 100% { transform: scale(1); } }

    .right { display: flex; flex-direction: column; gap: 16px; }

    .filter-row { display: flex; gap: 8px; align-items: center; font-size: 0.85rem; margin-bottom: 4px; }
    select { background: #0a0a15; border-radius: 8px; border: 1px solid var(--border); padding: 6px 10px; color: var(--text); font-size: 0.85rem; }

    .radiation-summary { display: grid; grid-template-columns: 1fr; gap: 8px; font-size: 0.85rem; }
    .rad-row { display: flex; justify-content: space-between; align-items: center; gap: 12px; }
    .rad-label { color: var(--muted); font-size: 0.75rem; }
    .rad-value { font-weight: 700; min-width: 60px; text-align: right; }
    .rad-bar-wrap { flex: 1; height: 7px; border-radius: 999px; background: #0a0a15; overflow: hidden; border: 1px solid var(--border); }
    .rad-bar { height: 100%; width: 40%; border-radius: 999px; background: linear-gradient(to right, #22c55e, #facc15, #ef4444); transition: width 0.3s; }

    .risk-pill { display: inline-flex; align-items: center; gap: 4px; font-size: 0.75rem; padding: 3px 9px; border-radius: 999px; border: 1px solid var(--border); }
    .risk-pill.high { border-color: var(--crit); color: var(--crit); box-shadow: 0 0 16px rgba(239,68,68,0.3); }
    .risk-pill.medium { border-color: var(--warn); color: var(--warn); }
    .risk-pill.low { border-color: var(--ok); color: var(--ok); }

    .ops-list { font-size: 0.82rem; max-height: 230px; overflow-y: auto; display: flex; flex-direction: column; gap: 8px; }
    .op-item { padding: 8px 10px; border-radius: 10px; border: 1px solid var(--border); background: rgba(12,12,20,0.9); display: flex; flex-direction: column; gap: 4px; box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02); }
    .op-header { display: flex; justify-content: space-between; align-items: baseline; gap: 6px; }
    .op-title { font-weight: 600; }
    .op-meta { font-size: 0.75rem; color: var(--muted); }
    .op-tags { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 2px; }
    .op-tag { font-size: 0.68rem; border-radius: 999px; padding: 2px 7px; border: 1px solid var(--border); color: var(--muted); }

    footer { font-size: 0.72rem; color: var(--muted); padding: 6px 16px 10px; border-top: 1px solid var(--border); text-align: right; background: #090914; }
  </style>
</head>
<body>
  <header>
    <div class="masthead">
      <div class="logo-block">
        <div class="title">National Kaiju Response Agency</div>
        <div class="subtitle">Live crisis console · Mock data for hackathon demo</div>
      </div>
      <div class="status">
        <div class="pulse-dot"></div>
        <span>Condition Red · Response level 1 · Live feed</span>
      </div>
    </div>
    <div class="ticker">
      <span>Broadcast: Maintain evacuation corridors L3/L4 · All coastal defenses on standby · Mobile batteries deploy to grid nodes A12, A13, B01 · Airspace closed above 5,000m · </span>
    </div>
  </header>

  <main>
    <section class="card">
      <div class="card-header">
        <div class="card-title">Active Kaiju Incidents</div>
        <div class="card-badge" id="kaiju-count-badge">0 threats</div>
      </div>
      <div class="stat-grid">
        <div class="stat">
          <div class="stat-label">Active Incidents</div>
          <div class="stat-value" id="stat-incidents">-</div>
          <div class="stat-sub">Across monitored regions</div>
        </div>
        <div class="stat">
          <div class="stat-label">Evacuation Zones</div>
          <div class="stat-value">L1 · L2 · L3</div>
          <div class="stat-sub">Curfew enforced</div>
        </div>
        <div class="stat">
          <div class="stat-label">Signal Uptime</div>
          <div class="stat-value">99.2%</div>
          <div class="stat-sub">Telemetry link integrity</div>
        </div>
      </div>
      <div class="kaiju-list" id="kaiju-list"></div>
    </section>

    <section class="middle">
      <div class="card">
        <div class="card-header">
          <div class="card-title">Kaiju Profile & Analysis</div>
          <div class="card-badge" id="selected-kaiju-badge">No target selected</div>
        </div>
        <div class="kaiju-detail-grid">
          <div>
            <div class="detail-name" id="detail-name">None</div>
            <div class="detail-latin" id="detail-latin">Choose a kaiju from the left panel.</div>

            <div class="detail-grid">
              <div>
                <div class="detail-label">Threat Level</div>
                <div id="detail-threat">-</div>
              </div>
              <div>
                <div class="detail-label">Last Seen</div>
                <div id="detail-last-seen">-</div>
              </div>
              <div>
                <div class="detail-label">Current Location</div>
                <div id="detail-location">-</div>
              </div>
              <div>
                <div class="detail-label">Type</div>
                <div id="detail-type">-</div>
              </div>
            </div>

            <div class="detail-label" style="margin-top: 10px;">Observed Capabilities</div>
            <div class="tag-row" id="detail-tags"></div>

            <div class="detail-label" style="margin-top: 10px;">Analyst Notes (Demo)</div>
            <div id="detail-notes" style="font-size: 0.85rem; color: var(--muted); margin-top: 4px;">-</div>
          </div>

          <div>
            <div class="detail-label">Projected Impact Radius (Mock)</div>
            <div class="map-placeholder">
              <div class="map-label">MAP: Tokyo Bay Area (Simulated)</div>
              <div class="map-city" style="top: 40%; left: 20%;">Yokohama</div>
              <div class="map-city" style="top: 60%; left: 45%;">Chiba</div>
              <div class="map-city highlight" style="top: 30%; left: 65%;">Tokyo</div>
              <div class="map-kaiju" id="map-kaiju" style="top: 58%; left: 40%;">K</div>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <div class="card-title">Recent Field Operations</div>
          <div class="card-badge">Live feed (demo data)</div>
        </div>
        <div class="ops-list" id="ops-list"></div>
      </div>
    </section>

    <section class="right">
      <div class="card">
        <div class="card-header">
          <div class="card-title">Radiation & Environmental Status</div>
          <div class="card-badge" id="rad-risk-badge">Unknown</div>
        </div>

        <div class="filter-row">
          <span>Region:</span>
          <select id="region-select">
            <option value="all">All</option>
            <option value="kanto">Kanto</option>
            <option value="pacific">Pacific Offshore</option>
            <option value="underground">Underground</option>
          </select>
        </div>

        <div class="radiation-summary">
          <div class="rad-row">
            <div>
              <div class="rad-label">Ambient Radiation (uSv/h)</div>
              <div class="rad-value" id="rad-ambient">-</div>
            </div>
            <div class="rad-bar-wrap">
              <div class="rad-bar" id="rad-ambient-bar"></div>
            </div>
          </div>

          <div class="rad-row">
            <div>
              <div class="rad-label">Hotspot Proximity</div>
              <div class="rad-value" id="rad-hotspot">-</div>
            </div>
            <div class="rad-bar-wrap">
              <div class="rad-bar" id="rad-hotspot-bar"></div>
            </div>
          </div>

          <div class="rad-row">
            <div>
              <div class="rad-label">Evacuation Zone Integrity</div>
              <div class="rad-value" id="rad-evac">-</div>
            </div>
            <div class="rad-bar-wrap">
              <div class="rad-bar" id="rad-evac-bar"></div>
            </div>
          </div>

          <div style="margin-top: 8px; font-size: 0.78rem;">
            Overall Risk:
            <span class="risk-pill" id="risk-pill">-</span>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <div class="card-title">System Notes</div>
          <div class="card-badge">Front-end only (prototype)</div>
        </div>
        <p style="font-size: 0.82rem; color: var(--muted); line-height: 1.5;">
          This dashboard is a hackathon demo. <strong>It is not a real government system.</strong>
          All data is fixed sample content stored in JavaScript. For production use, replace with live APIs, authentication, monitoring, and audit logging.
        </p>
        <ul style="font-size: 0.82rem; color: var(--muted); padding-left: 18px; margin-top: 0;">
          <li>Replace map, radiation, and route data with real API sources.</li>
          <li>Integrate alerting, evacuation messaging, and external sensor inputs.</li>
          <li>AI-written analysis notes are mock text; implement or remove as needed.</li>
        </ul>
        <p style="font-size: 0.82rem; color: var(--muted);">
          Feel free to modify and extend for your scenario.
        </p>
      </div>
    </section>
  </main>

  <footer>
    &copy; 2025 National Kaiju Response Agency (Demo) | For hackathon use only
  </footer>

  <script>
    const kaijuData = [
      {
        id: 1,
        name: "Godzilla",
        codename: "Project G-01 \"Gojira\"",
        threatLevel: 5,
        lastSeen: "2025-12-08 15:22 JST",
        location: "Tokyo Bay outer waters",
        type: "Radioactive amphibious class",
        tags: ["Heat beam", "Amphibious", "High regeneration"],
        notes:
          "Awakened by nuclear waste. Ongoing damage to port infrastructure. Often strikes from underwater; heat beam reaches long distances. Maintain wide evacuation.",
        mapPosition: { top: "58%", left: "40%" }
      },
      {
        id: 2,
        name: "King Ghidorah",
        codename: "Project K-03 \"Ghidorah\"",
        threatLevel: 6,
        lastSeen: "2025-12-08 14:05 JST",
        location: "Stratosphere, 10,000m",
        type: "Pterosaur class / gravity wave interference",
        tags: ["Gravity wave fields", "Atmospheric lightning", "Hypersonic flight"],
        notes:
          "Forms storm clouds before appearing. Lightning output cripples the power grid. Flight path syncs with jet stream; defense lines must pre-position ahead of the track.",
        mapPosition: { top: "25%", left: "55%" }
      },
      {
        id: 3,
        name: "Mothra",
        codename: "Project M-02 \"Mothra\"",
        threatLevel: 3,
        lastSeen: "2025-12-08 13:40 JST",
        location: "Boso Peninsula highlands",
        type: "Giant insect class / protective",
        tags: ["Luminous powder", "Defensive behavior", "Signs of human-friendly intent"],
        notes:
          "Avoids people but strong wing gusts can topple equipment. Circles shrines; evaluate for protection status. Powder occasionally disrupts electronics.",
        mapPosition: { top: "40%", left: "70%" }
      }
    ];

    const operations = [
      {
        title: "Re-checking Tokyo Bay L3 evacuation routes",
        time: "15:25",
        region: "kanto",
        level: "CRITICAL",
        tags: ["Evac routes", "Infrastructure"],
        description: "Reinstalling barricades along the L3 line as Godzilla advances. Bridge damage near Shin-Kiba confirmed; heavy machinery on standby."
      },
      {
        title: "Power system inspection in underground facility",
        time: "15:10",
        region: "underground",
        level: "INFO",
        tags: ["Power", "Maintenance"],
        description: "Inspecting backup power at -40m. Reinforcing surge protection against storm activity and delivering spare transformer parts."
      },
      {
        title: "Abnormal EM waves detected offshore Pacific",
        time: "14:55",
        region: "pacific",
        level: "HIGH",
        tags: ["Route change", "Ship evacuation"],
        description: "High-output electromagnetic bursts tied to Ghidorah flight. Rerouting lanes south and issuing emergency notices to cargo vessels."
      },
      {
        title: "Kanto-wide emergency broadcast drill",
        time: "14:30",
        region: "kanto",
        level: "MEDIUM",
        tags: ["Drill", "Public alert"],
        description: "Disaster radio test across the metro area. 15% of zones reported latency; scheduling a repeat test."
      }
    ];

    const radiationByRegion = {
      all: { ambient: 0.9, hotspot: 35, evacIntegrity: 82 },
      kanto: { ambient: 1.5, hotspot: 68, evacIntegrity: 76 },
      pacific: { ambient: 2.1, hotspot: 80, evacIntegrity: 64 },
      underground: { ambient: 0.3, hotspot: 5, evacIntegrity: 93 }
    };

    let selectedKaijuId = null;

    const kaijuListEl = document.getElementById("kaiju-list");
    const kaijuCountBadge = document.getElementById("kaiju-count-badge");
    const detailName = document.getElementById("detail-name");
    const detailLatin = document.getElementById("detail-latin");
    const detailThreat = document.getElementById("detail-threat");
    const detailLastSeen = document.getElementById("detail-last-seen");
    const detailLocation = document.getElementById("detail-location");
    const detailType = document.getElementById("detail-type");
    const detailTags = document.getElementById("detail-tags");
    const detailNotes = document.getElementById("detail-notes");
    const detailBadge = document.getElementById("selected-kaiju-badge");
    const mapKaiju = document.getElementById("map-kaiju");
    const opsListEl = document.getElementById("ops-list");
    const regionSelect = document.getElementById("region-select");
    const radAmbient = document.getElementById("rad-ambient");
    const radHotspot = document.getElementById("rad-hotspot");
    const radEvac = document.getElementById("rad-evac");
    const radAmbientBar = document.getElementById("rad-ambient-bar");
    const radHotspotBar = document.getElementById("rad-hotspot-bar");
    const radEvacBar = document.getElementById("rad-evac-bar");
    const radRiskBadge = document.getElementById("rad-risk-badge");
    const riskPill = document.getElementById("risk-pill");
    const statIncidents = document.getElementById("stat-incidents");

    function renderKaijuList() {
      kaijuListEl.innerHTML = "";
      kaijuCountBadge.textContent = `${kaijuData.length} threats`;
      statIncidents.textContent = kaijuData.length;

      kaijuData.forEach((k) => {
        const item = document.createElement("div");
        item.className = "kaiju-item";
        item.dataset.id = k.id;

        const left = document.createElement("div");
        const name = document.createElement("div");
        name.className = "kaiju-name";
        name.textContent = k.name;

        const meta = document.createElement("div");
        meta.className = "kaiju-meta";
        meta.textContent = `${k.location} | Lv.${k.threatLevel} | ${k.lastSeen}`;

        left.appendChild(name);
        left.appendChild(meta);

        const chip = document.createElement("div");
        chip.className = "chip";

        if (k.threatLevel >= 5) {
          chip.classList.add("danger");
          chip.textContent = "Critical";
        } else if (k.threatLevel >= 3) {
          chip.classList.add("warning");
          chip.textContent = "Elevated";
        } else {
          chip.classList.add("ok");
          chip.textContent = "Monitored";
        }

        item.appendChild(left);
        item.appendChild(chip);

        item.addEventListener("click", () => {
          selectKaiju(k.id);
        });

        kaijuListEl.appendChild(item);
      });
    }

    function selectKaiju(id) {
      selectedKaijuId = id;
      const k = kaijuData.find((x) => x.id === id);
      if (!k) return;

      document.querySelectorAll(".kaiju-item").forEach((el) => {
        el.classList.toggle("active", Number(el.dataset.id) === id);
      });

      detailName.textContent = k.name;
      detailLatin.textContent = k.codename;
      detailThreat.textContent = `Level ${k.threatLevel}`;
      detailLastSeen.textContent = k.lastSeen;
      detailLocation.textContent = k.location;
      detailType.textContent = k.type;

      detailTags.innerHTML = "";
      k.tags.forEach((t) => {
        const tagEl = document.createElement("div");
        tagEl.className = "tag";
        tagEl.textContent = t;
        detailTags.appendChild(tagEl);
      });

      detailNotes.textContent = k.notes;
      detailBadge.textContent = `Tracking: ${k.name}`;

      mapKaiju.style.top = k.mapPosition.top;
      mapKaiju.style.left = k.mapPosition.left;
      mapKaiju.textContent = k.name[0];

      const base = radiationByRegion[regionSelect.value] || radiationByRegion["all"];
      const boosted = {
        ambient: base.ambient + k.threatLevel * 0.2,
        hotspot: Math.min(100, base.hotspot + k.threatLevel * 3),
        evacIntegrity: Math.max(0, base.evacIntegrity - k.threatLevel * 2)
      };
      updateRadiationDisplay(boosted);
    }

    function renderOperations(region = "all") {
      opsListEl.innerHTML = "";
      const filtered = region === "all" ? operations : operations.filter((op) => op.region === region);

      if (filtered.length === 0) {
        opsListEl.innerHTML = '<div style="color: var(--muted);">No operations for this region.</div>';
        return;
      }

      filtered.forEach((op) => {
        const item = document.createElement("div");
        item.className = "op-item";

        const header = document.createElement("div");
        header.className = "op-header";

        const title = document.createElement("div");
        title.className = "op-title";
        title.textContent = op.title;

        const meta = document.createElement("div");
        meta.className = "op-meta";
        meta.textContent = `${op.time} | ${op.level}`;

        header.appendChild(title);
        header.appendChild(meta);

        const desc = document.createElement("div");
        desc.textContent = op.description;

        const tagRow = document.createElement("div");
        tagRow.className = "op-tags";
        op.tags.forEach((t) => {
          const tag = document.createElement("div");
          tag.className = "op-tag";
          tag.textContent = t;
          tagRow.appendChild(tag);
        });

        item.appendChild(header);
        item.appendChild(desc);
        item.appendChild(tagRow);

        opsListEl.appendChild(item);
      });
    }

    function updateRadiationDisplay(sourceData) {
      const data = sourceData || radiationByRegion[regionSelect.value] || radiationByRegion["all"];

      radAmbient.textContent = data.ambient.toFixed(2);
      radHotspot.textContent = `${data.hotspot.toFixed(0)}%`;
      radEvac.textContent = `${data.evacIntegrity.toFixed(0)}%`;

      radAmbientBar.style.width = Math.min(100, data.ambient * 10) + "%";
      radHotspotBar.style.width = Math.min(100, data.hotspot) + "%";
      radEvacBar.style.width = Math.min(100, data.evacIntegrity) + "%";

      let score = 0;
      score += Math.min(10, data.ambient);
      score += data.hotspot / 15;
      score += (100 - data.evacIntegrity) / 10;

      let risk = "UNKNOWN";
      let cls = "";
      if (score >= 18) {
        risk = "HIGH RISK";
        cls = "high";
      } else if (score >= 10) {
        risk = "MEDIUM RISK";
        cls = "medium";
      } else {
        risk = "LOW RISK";
        cls = "low";
      }

      radRiskBadge.textContent = risk;
      riskPill.textContent = risk;
      riskPill.className = "risk-pill " + cls;
    }

    regionSelect.addEventListener("change", () => {
      updateRadiationDisplay();
      renderOperations(regionSelect.value);
    });

    renderKaijuList();
    renderOperations("all");
    updateRadiationDisplay();

    if (kaijuData.length > 0) {
      selectKaiju(kaijuData[0].id);
    }
  </script>
</body>
</html>
